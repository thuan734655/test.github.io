<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>sign up</title>
    </head>
    <style>
        body{
            background-color: aquamarine;
        }
        .boxSU{
            height: 500px;
            width: 500px;
            background-color: beige;
            margin: 25%;
            display: flex;
        }
        .display{
           margin:auto;
        }
        .describe{
            margin: 0;
        }
        .notification {
            display: none;
            color: red;
            font-size: 13px;
        }
        .displayResult {
            color: rgb(41, 213, 78);
            display: none ;
        }
        .nextSU{
            display: inline-flex;
        
        }
    </style>
    
    <body>
        <div class ="boxSU">
            <div class="display">
                
                
                <label class = "describe" for="userName"> User Name</label>
                <br/>
                <label class = "notification" for="account already exist" > account already exist</label>
                <br>
                <input class="inputSU" type="text">
                <br>
                <label class="describe" for="Password"> Password</label>
                <br>
                <label class="notification" for="notification"> invalid Pasword</label>
                <br>
                <input class = "inputSU" type="text"> 
                <br>
                <label class = "describe" for="notification">enter the password</label>
                <br>
                <label class= "notification" for="notification">password incorrect</label>
                <br>
                <input class="describe" type="text">
                <br>
                <br>
                <label class = "displayResult" for="notification">create account success</label>
                <button class="create" > create</button>
                <br>
                <br>
                <button class ="nextSU"> <a href="./signIn.html"> sign In</a></button>
                <button class = "nextSU"> <a href="./index.html"> home page</a> </button>

            </div>  
        </div>
        
        
        <script>
            
            var inputElement = document.querySelectorAll('input');
            var displayResult = document.querySelectorAll('.next')
            var notification = document.querySelectorAll('.notification')
            var create = document.querySelector('.create')
            console.log(create)
            //Dom event
            var Name;
            inputElement[0].onkeyup= (e)=>{
                
                name = e.target.value;
            }

            var Password;
            inputElement[1].onkeyup = (e) =>{
                
                Password = e.target.value;
             console.log(Password)    
            }
            
            var again_Password;
            inputElement[2].onkeyup = (e) => {

                again_Password = e.target.value
            }
           

            var API = "http://localhost:3000/user"
            //port accouont
            function createAccount(data) {
             
                fetch(API,{
                    method: 'POST',
                    headers: {
                        'content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                })
                 .then((a) => {
                    console.log(a)
                    // displayResult[0].style.display = 'block';
                    // displayResult[1].style.display = 'block';
                 })
                 .catch(() => {
                    notification[0].style.display = "block";
                    
                    notification[1].style.display = "block";
                    
                    notification[2].style.display = "block";
                 })
            }

            //dom event
            var id = 4;  
            create.onclick = () =>{
                if (Password !==again_Password) {
                notification[2].style.display = "block";
                return;
            }

                id++;
                var Formdata = {
                    id: id,
                    name,
                    Password
                }
                createAccount(Formdata)
            }
</script>
    </body>
</html>